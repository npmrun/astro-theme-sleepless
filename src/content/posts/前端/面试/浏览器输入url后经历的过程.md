---
title: 浏览器输入url后经历的过程
description: ''
pubDate: 2023/9/5 11:14:42
updatedDate: 2023/09/07 09:51:22
tags:
    - 面试
category: 前端知识
author: NPMRUN
heroImage: https://pic.xieyaxin.top/r10086/%E5%9B%BE%E5%8C%85webp/%E5%8A%A8%E6%BC%AB%E7%BB%BC%E5%90%882/5a80c559ae57e81e1a281a8b508b9c5d.png!q90.webp
---

1. 首先，在浏览器中输入url
2. 浏览器先查看浏览器缓存-系统缓存-路由器缓存，如果缓存存在，就会直接在屏幕中显示页面内容，如果没有，则进入第三步
3. 在发送http请求前，需要域名解析（DNS解析），解析出相应的IP地址
4. 浏览器想服务器发送tcp连接，在浏览器建立tcp**三次握手**
5. 握手成功后，浏览器向服务器发送http请求，请求数据包
6. 服务器处理收到的请求，将数据返回至浏览器
7. 浏览器收到http响应
8. 读取页面内容，浏览器渲染，解析html源码
9. 生成DOM树，解析CSS样式，js交互
10. 客户端与服务器交互
11. ajax查询

其中步骤2的具体过程是：
- 浏览器缓存：浏览器会记录DNS一段时间，因此，只是第一个地方解析DNS请求
- 操作系统缓存：如果在浏览器中不包含这个记录，则会使系统调用操作系统获取操作系统的记录（保存最近的DNS查询缓存）；
- 路由器缓存：如果上述两个步骤均不能成功获取DNS记录，继续搜索路由器缓存
- ISP缓存：如果上述均失败，继续向ISP搜索

## 另一种答案
1. 浏览器输入url并解析
2. 查询当前url是否存在缓存，并对比缓存是否过期
3. DNS解析URL到指定的ip
4. 建立TCP连接（三次握手）
5. 发送http请求
6. 服务器收到的请求，将数据返回到浏览器
7. 浏览器收到http响应
8. 浏览器解析并渲染页面
9. 关闭tcp连接
